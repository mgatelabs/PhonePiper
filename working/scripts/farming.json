{
  "vars": [
    {
      "name": "setup",
      "value": "0",
      "type": "INT"
    },
    {
      "name": "logic",
      "value": "0",
      "type": "INT"
    },
    {
      "name": "runs",
      "display": "Battles",
      "value": "0",
      "type": "INT",
      "modify": "VISIBLE",
      "order": 5
    },
    {
      "name": "raid_runs",
      "display": "Raids",
      "value": "0",
      "type": "INT",
      "modify": "VISIBLE",
      "order": 5
    },
    {
      "name": "arena_runs",
      "display": "Arenas",
      "value": "0",
      "type": "INT",
      "modify": "VISIBLE",
      "order": 5
    },
    {
      "name": "menu-item",
      "display": "Farm - Menu Index",
      "value": "1",
      "type": "INT",
      "modify": "EDITABLE",
      "order": 20
    },
    {
      "name": "vortex-item",
      "display": "Raid - Vortex Index",
      "value": "0",
      "type": "INT",
      "modify": "EDITABLE",
      "order": 20
    },
    {
      "name": "allow-raid",
      "display": "Enable Raid",
      "value": "0",
      "type": "INT",
      "modify": "EDITABLE",
      "displayType": "BOOLEAN",
      "order": 10
    },
    {
      "name": "alt-raid",
      "display": "Home Raid",
      "value": "0",
      "type": "INT",
      "modify": "EDITABLE",
      "displayType": "BOOLEAN",
      "order": 10
    },
    {
      "name": "allow-farm",
      "display": "Enable Farm",
      "value": "1",
      "type": "INT",
      "modify": "EDITABLE",
      "displayType": "BOOLEAN",
      "order": 10
    },
    {
      "name": "allow-arena",
      "display": "Enable Arena",
      "value": "0",
      "type": "INT",
      "modify": "EDITABLE",
      "displayType": "BOOLEAN",
      "order": 10
    },
    {
      "name": "raid-timer",
      "display": "Transition Timer",
      "value": "16320",
      "type": "INT",
      "modify": "EDITABLE",
      "displayType": "SECONDS"
    }
  ],
  "includes": [
    "_common-no_op",
    "_common-menu_location",
    "_common-menu_results",
    "_common-menu_vortex",
    "_common-battle",
    "_common-utils"
  ],
  "states": {
    "main": {
      "name": "Farm - Main",
      "includes": [
        "_es-to_results",
        "_es-to_menu",
        "_es-to_battle",
        "_es-from_home",
        "_common-no_op"
      ]
    },
    "menu": {
      "name": "Farm - Menu",
      "includes": [
        "_common-screen_saver",
        "_common-ml-goals",
        "_common-ml-friend_0",
        "_common-ml-friend_none",
        "_common-ml-mission",
        "_farm-find_depart_team",
        "_common-ml-depart",
        "_es-menu",
        "_common-no_op"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-missions-select",
            "and": [
              {
                "is": "GREATER",
                "value": "$raid-timer",
                "var": "_seconds",
                "or": [
                  {
                    "is": "EQUAL",
                    "value": "$raid-timer",
                    "var": "_seconds"
                  },
                  {
                    "not": "ENERGY",
                    "var": "min-energy"
                  }
                ]
              }
            ],
            "andOr": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-raid"
              },
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-arena"
              }
            ]
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Time limit/energy hit, switching to Home screen"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_seconds"
            },
            {
              "type": "MOVE",
              "value": "farm_to_home"
            }
          ]
        }
      ]
    },

    "_farm-find_depart_team": {
      "name": "Farm - Find Depart Team",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-depart",
            "and": [
              {
                "not": "SCREEN",
                "value": "menu-depart-team_1"
              }
            ]
          },
          "actions": [
            {
              "type": "SWIPE_RIGHT",
              "value": "menu-depart-units"
            },
            {
              "type": "WAIT",
              "value": "6000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        }
      ]
    },

    "_es-menu": {
      "name": "Farm - Menu Ending Include",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "game-battle"
          },
          "actions": [
            {
              "type": "LAP",
              "value": "BATTLE"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "ADD",
              "var": "runs",
              "value": "1"
            },
            {
              "type": "MSG",
              "value": "Starting run ${runs}"
            },
            {
              "type": "MOVE",
              "value": "farm-battle"
            }
          ]
        }
      ]
    },
    "farm-battle": {
      "name": "Farm - Battle",
      "includes": [
        "_common_battle-three_attack",
        "_common-screen_saver",
        "_es-from_battle_to_results",
        "_common-no_op"
      ]
    },
    "_es-from_battle_to_results": {
      "name": "Farm - From Battle To Results",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-results-points",
            "or": [
              {
                "is": "SCREEN",
                "value": "menu-results-units"
              },
              {
                "is": "SCREEN",
                "value": "menu-results-items"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "2"
            },
            {
              "type": "SWAP",
              "value": "farm-results"
            }
          ]
        }
      ]
    },
    "_es-to_results": {
      "name": "Farm - To Results",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-results-points",
            "or": [
              {
                "is": "SCREEN",
                "value": "menu-results-units"
              },
              {
                "is": "SCREEN",
                "value": "menu-results-items"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "SWAP",
              "value": "farm-results"
            }
          ]
        }
      ]
    },
    "farm-results": {
      "name": "Farm - Results",
      "includes": [
        "_common-screen_saver",
        "_common_mr-points",
        "_common_mr-units",
        "_common_mr-items",
        "_common_mr-friend_request",
        "_es-to_menu",
        "_common-no_op"
      ]
    },
    "_es-to_menu": {
      "name": "To Menu",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-missions-select",
            "or": [
              {
                "is": "SCREEN",
                "value": "menu-goal_list"
              },
              {
                "is": "SCREEN",
                "value": "menu-friend_select"
              },
              {
                "is": "SCREEN",
                "value": "menu-friend_select-empty"
              },
              {
                "is": "SCREEN",
                "value": "menu-depart"
              }
            ]
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Ending run ${runs}"
            },
            {
              "type": "MOVE",
              "value": "menu"
            }
          ]
        }
      ]
    },
    "_es-to_battle": {
      "name": "To Battle",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "game-battle"
          },
          "actions": [
            {
              "type": "LAP",
              "value": "BATTLE"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "ADD",
              "var": "runs",
              "value": "1"
            },
            {
              "type": "MSG",
              "value": "Starting run ${runs}"
            },
            {
              "type": "SWAP",
              "value": "farm-battle"
            }
          ]
        }
      ]
    },
    "_es-from_home": {
      "name": "From Home",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-arena"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_arena"
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-farm"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_farm"
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-raid"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_raid"
            }
          ]
        }
      ]
    },
    "_es-reset": {
      "name": "Earthshrine - Reset",
      "statements": [
        {
          "condition": {
            "is": "BOOLEAN",
            "value": "true"
          },
          "actions": [
            {
              "type": "SET",
              "value": "0",
              "var": "setup"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "runs"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "raid_runs"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "arena_runs"
            }
          ]
        }
      ]
    },
    "reset": {
      "name": "Common - Reset",
      "includes": [
        "_es-reset",
        "_common_mr-reset",
        "_common-reset"
      ]
    },
    "raid-home": {
      "name": "Raid - Menu",
      "includes": [
        "_common-ml-goals-quick",
        "_common-ml-friend_0",
        "_common-ml-friend_none",
        "_raid-find_depart_team",
        "_raid-depart",
        "_raid-to_battle",
        "_common-no_op"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-raid_screen",
            "and": [
              {
                "is": "SCREEN",
                "value": "menu-raid_orbs"
              }
            ]
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Orb Available, Starting Mission 0 - ELT"
            },
            {
              "type": "TAP",
              "value": "menu-raid_0"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "WAIT",
              "value": "10000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-raid_screen",
            "and": [
              {
                "not": "SCREEN",
                "value": "menu-raid_orbs"
              }
            ]
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Out of Orbs, going home"
            },
            {
              "type": "MOVE",
              "value": "raid_to_home"
            }
          ]
        }
      ]
    },
    "_raid-find_depart_team": {
      "name": "Raid - Find Depart Team",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-depart",
            "and": [
              {
                "not": "SCREEN",
                "value": "menu-depart-team_0"
              }
            ]
          },
          "actions": [
            {
              "type": "SWIPE_RIGHT",
              "value": "menu-depart-units"
            },
            {
              "type": "WAIT",
              "value": "1500"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        }
      ]
    },
    "_raid-depart": {
      "name": "Raid - Depart",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-depart"
          },
          "actions": [
            {
              "type": "TAP",
              "value": "menu-depart-depart"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "WAIT",
              "value": "8500"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        }
      ]
    },
    "_raid-to_battle": {
      "name": "To Raid Battle",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "game-battle"
          },
          "actions": [
            {
              "type": "LAP",
              "value": "BATTLE"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "ADD",
              "var": "raid_runs",
              "value": "1"
            },
            {
              "type": "MSG",
              "value": "Starting raid ${raid_runs}"
            },
            {
              "type": "MOVE",
              "value": "raid-battle"
            }
          ]
        }
      ]
    },
    "raid-battle": {
      "name": "Raid - Battle",
      "includes": [
        "_common_battle-auto",
        "_raid-battle-message",
        "_raid-to_results",
        "_common-no_op"
      ]
    },
    "_raid-battle-message": {
      "name": "To Raid Results",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "battle-message"
          },
          "actions": [
            {
              "type": "TAP",
              "value": "menu-level"
            }
          ]
        }
      ]
    },
    "_raid-to_results": {
      "name": "To Raid Results",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-results-points",
            "or": [
              {
                "is": "SCREEN",
                "value": "menu-results-units"
              },
              {
                "is": "SCREEN",
                "value": "menu-results-items"
              },
              {
                "is": "SCREEN",
                "value": "menu-results-points_raid"
              },
              {
                "is": "SCREEN",
                "value": "menu-results-damage"
              },
              {
                "is": "SCREEN",
                "value": "menu-results-missions"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "SWAP",
              "value": "raid-results"
            }
          ]
        }
      ]
    },
    "raid-results": {
      "name": "Raid - Result",
      "includes": [
        "_common_mr-raid_points",
        "_common_mr-raid_damage",
        "_common_mr-units",
        "_common_mr-missions",
        "_common_mr-items",
        "_common_mr-friend_request",
        "_raid-to_home",
        "_common-no_op"
      ]
    },
    "_home_daily_fixes": {
      "name": "Home - Daily Fixes",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home-daily"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Daily Login Reward, Claiming"
            },
            {
              "type": "TAP",
              "value": "menu-home-daily-claim"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home-login_bonus"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Login Bonus, OK"
            },
            {
              "type": "TAP",
              "value": "menu-home-login_bonus-ok"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-messages"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Message Screen"
            },
            {
              "type": "TAP",
              "value": "menu-messages-back"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        }
      ]
    },
    "_raid-to_home": {
      "name": "To Raid Screen",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-raid_screen"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Ending run ${runs}"
            },
            {
              "type": "MOVE",
              "value": "raid-home"
            }
          ]
        }
      ]
    },
    "home_to_raid": {
      "name": "Home - To Raid",
      "includes": [
        "_home_daily_fixes",
        "_common-vtx-items",
        "_common-no_op"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "var": "alt-raid",
                "value": "1"
              }
            ]
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Going to Vortex (Alt)"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "TAP",
              "value": "menu-home-special"
            },
            {
              "type": "WAIT",
              "value": "6000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Going to Vortex"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "TAP",
              "value": "menu-home-vortex"
            },
            {
              "type": "WAIT",
              "value": "6000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-raid_screen"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Raid Screen"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "MOVE",
              "value": "raid-home"
            }
          ]
        },
        {
          "condition": {
            "is": "GREATER",
            "var": "_loops",
            "value": "60"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Could not find Raid, switching to home"
            },
            {
              "type": "MOVE",
              "value": "raid_to_home"
            }
          ]
        }
      ]
    },
    "home_to_arena": {
      "name": "Home - To Arena",
      "includes": [
        "_home_daily_fixes",
        "_common-no_op"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Going to Arena"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "TAP",
              "value": "menu-home-arena"
            },
            {
              "type": "WAIT",
              "value": "10000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena_screen"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Arena Screen"
            },
            {
              "type": "MOVE",
              "value": "arena-home"
            }
          ]
        }
      ]
    },
    "home_to_farm": {
      "name": "Home - To Farm",
      "includes": [
        "_home_daily_fixes",
        "_es-to_menu",
        "_common-no_op"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "battle-menu"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Returning to Battle"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "ADD",
              "var": "raid_runs",
              "value": "1"
            },
            {
              "type": "TAP",
              "value": "battle-menu-back"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "SWAP",
              "value": "raid-battle"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Going to World"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "TAP",
              "value": "menu-worlds"
            },
            {
              "type": "REPEAT",
              "value": "false"
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-world-grandshelt_isles"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Grandshelf Isles, looking for Earth Shrine"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "SLOW_RIGHT",
              "value": "screen-center-large",
              "count": "9"
            },
            {
              "type": "SLOW_DOWN",
              "value": "screen-center-large",
              "count": "2"
            },
            {
              "type": "SLOW_LEFT",
              "value": "screen-center-large",
              "count": "4"
            },
            {
              "type": "MSG",
              "value": "Tapping Earthshrine"
            },
            {
              "type": "TAP",
              "value": "menu-location-earthshrine"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-world-grandshelt"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Grandshelt"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "TAP",
              "value": "menu-island-grandshelt_isles"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-world-lapis"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Lapis"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "SLOW_LEFT",
              "value": "screen-center-large",
              "count": "3"
            },
            {
              "type": "TAP",
              "value": "menu-island-grandshelt"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-world-common"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Random Land, Backing up"
            },
            {
              "type": "EVENT",
              "value": "back"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-missions-select"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Mission Select"
            },
            {
              "type": "MOVE",
              "value": "menu"
            }
          ]
        }
      ]
    },
    "farm_to_home": {
      "name": "Farm - To Home",
      "includes": [
        "_home_daily_fixes",
        "_backup_to_home"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-raid"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_raid"
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-arena"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_arena"
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-farm"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_farm"
            }
          ]
        }
      ]
    },
    "raid_to_home": {
      "name": "Raid - To Home",
      "includes": [
        "_home_daily_fixes",
        "_backup_to_home"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-arena"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_arena"
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-farm"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_farm"
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is": "EQUAL",
                "value": "1",
                "var": "allow-raid"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_raid"
            }
          ]
        }
      ]
    },
    "arena_to_home": {
      "name": "Arena - To Home",
      "includes": [
        "_home_daily_fixes",
        "_backup_to_home"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is":"EQUAL",
                "var": "allow-farm",
                "value": "1"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_farm"
            }
          ]
        },{
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is":"EQUAL",
                "var": "allow-raid",
                "value": "1"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_raid"
            }
          ]
        },{
          "condition": {
            "is": "SCREEN",
            "value": "menu-home",
            "and": [
              {
                "is":"EQUAL",
                "var": "allow-arena",
                "value": "1"
              }
            ]
          },
          "actions": [
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "home_to_arena"
            }
          ]
        }
      ]
    },
    "_backup_to_home": {
      "name": "Backup to Home",
      "statements": [
        {
          "condition": {
            "not": "SCREEN",
            "value": "menu-home"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Backing Up"
            },
            {
              "type": "SET",
              "var": "setup",
              "value": "0"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "EVENT",
              "value": "back"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        }
      ]
    },
    "log-in": {
      "name": "Common - Recovery Log In",
      "includes": [
        "_home_daily_fixes"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-log_in_again"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Tapping OK"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "TAP",
              "value": "menu-log_in_again-ok"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-title"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Tapping Screen Center"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "TAP",
              "value": "screen-center"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-quest_restart"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Quest Restart Screen, stopping quest, returning to Home..."
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "TAP",
              "value": "menu-quest_restart-no"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-home"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Found Home Screen, attempting to recover..."
            },
            {
              "type": "MOVE",
              "value": "home_to_farm"
            }
          ]
        }
      ]
    },
    "arena-home": {
      "name": "Arena - Menu",
      "includes": [
        "_common-no_op"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena-orbs",
            "andOr": [
              {
                "is": "SCREEN",
                "value": "menu-arena_screen"
              },
              {
                "is": "SCREEN",
                "value": "menu-arena_screen-friends"
              },
              {
                "is": "SCREEN",
                "value": "menu-arena_screen-top"
              }
            ]
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Orb Available, Starting Fight"
            },
            {
              "type": "TAP",
              "value": "menu-arena-setup"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "not": "SCREEN",
            "value": "menu-arena-orbs",
            "andOr": [
              {
                "is": "SCREEN",
                "value": "menu-arena_screen"
              },
              {
                "is": "SCREEN",
                "value": "menu-arena_screen-friends"
              },
              {
                "is": "SCREEN",
                "value": "menu-arena_screen-top"
              }
            ]
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Out of Orbs, going home"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "MOVE",
              "value": "arena_to_home"
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena-rules"
          },
          "actions": [
            {
              "type": "TAP",
              "value": "menu-arena-ok"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena-opponent_select"
          },
          "actions": [
            {
              "type": "SLOW_UP",
              "value": "menu-arena-opponent_drag"
            },
            {
              "type": "SLOW_UP",
              "value": "menu-arena-opponent_drag"
            },
            {
              "type": "SLOW_UP",
              "value": "menu-arena-opponent_drag"
            },
            {
              "type": "TAP",
              "value": "menu-arena-opponent_first"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena-confirm_select"
          },
          "actions": [
            {
              "type": "TAP",
              "value": "menu-arena-opponent_confirm-yes"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena-begin"
          },
          "actions": [
            {
              "type": "TAP",
              "value": "menu-arena-begin"
            },
            {
              "type": "WAIT",
              "value": "5000"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "game-battle"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Battle Started"
            },
            {
              "type": "SET",
              "value": "0",
              "var": "_screen_saver"
            },
            {
              "type": "SET",
              "var": "_loops",
              "value": "0"
            },
            {
              "type": "ADD",
              "var": "arena_runs",
              "value": "1"
            },
            {
              "type": "MOVE",
              "value": "arena-battle-setup"
            }
          ]
        }
      ]
    },
    "arena-battle-setup": {
      "name": "Arena - Battle - Setup",
      "includes": [
        "_arena-battle-fight",
        "_common-no_op"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "game-battle-repeat"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Moving to Fight"
            },
            {
              "type": "MOVE",
              "value": "arena-battle-fight"
            }
          ]
        }
      ]
    },
    "arena-battle-fight": {
      "name": "Arena - Battle - Fight",
      "includes": [
        "_arena-battle-fight",
        "_common-no_op"
      ],
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "game-battle-repeat"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Fighting (You shouod override this, auto isn't good)"
            },
            {
              "type": "TAP",
              "value": "battle-auto"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        }
      ]
    },
    "_arena-battle-fight": {
      "name": "Arena - Battle - Common Fight",
      "statements": [
        {
          "condition": {
            "is": "SCREEN",
            "value": "battle-actions"
          },
          "actions": [
            {
              "type": "TAP",
              "value": "battle-actions-back"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena-rewards"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Reward found - OK"
            },
            {
              "type": "TAP",
              "value": "menu-arena-rewards-ok"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "game-battle-over"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "It's Over, Tapping"
            },
            {
              "type": "TAP",
              "value": "screen-center"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena-results"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Tapping OK"
            },
            {
              "type": "TAP",
              "value": "menu-arena-results-ok"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena-rank_up"
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Tapping OK"
            },
            {
              "type": "TAP",
              "value": "menu-arena-rank_up-ok"
            },
            {
              "type": "REPEAT",
              "value": ""
            }
          ]
        },
        {
          "condition": {
            "is": "SCREEN",
            "value": "menu-arena_screen",
            "or": [
              {
                "is": "SCREEN",
                "value": "menu-arena_screen-friends"
              },
              {
                "is": "SCREEN",
                "value": "menu-arena_screen-top"
              }
            ]
          },
          "actions": [
            {
              "type": "MSG",
              "value": "Restarting"
            },
            {
              "type": "MOVE",
              "value": "arena-home"
            }
          ]
        }
      ]
    }
  }
}